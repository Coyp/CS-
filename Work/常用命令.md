# linux

## 网络

1.traceroute  
traceroute ip地址  
查看数据包到某地址经过的网络链路  
2.lsof   
列出当前系统打开的文件，可以用来查看网络连接  
-i 网络连接 :80显示端口 tcp显示  
3.iftop  
网络详细信息  
4.telnet  
远程登录地址  
telnet ip  
5.curl  
下载网页html内容  
curl http://www.baidu.com  

## 搜索
1.find  
find ./ -name "*.cc" 搜索文件名  
find ./ -name "*.hpp" -mtime 0 /*(-1 昨天修改, 0 今天修改, +1 昨天之前修改的)*/   
2.grep  
grep -nir xx 搜索内容   

## 文本操作
1.head -n 1 获取第一行  
  tail -n 1 获取最后一行  
2.awk '{print $1}' 获取第一列  
3.输出重定向  
stdout(1) stderr(2)    
\>out.txt 2>&1 //实际为1>out.txt 2>&1，其中1>简写为>，2>&1指将2通过管道输出到1的输出中  
其中 >> 是追加, > 是覆盖  

## 系统信息
1.du   
-h // 按MB显示  
-s // 只计算总量  
2.htop  
系统详细信息  
3.env  
查看环境变量，可以配合grep进行相关的展示  
4.查看终端历史命令  
vi ~/.bash_history  

## 编译相关
1.nm  
查看符号表  
nm libmrtc-base.so | c++filt // 转换为C++风格显示函数名  

## 其他
1.xargs  
获取前面执行的结果 

## 应用
1.释放缓存  
echo 1 > /proc/sys/vm/drop_caches  
2.崩溃后继续执行  
sh末尾加上/bin/bash  
3.core 存储位置修改  
echo "/data/core-%e-%t-%p" > /proc/sys/kernel/core_pattern  
4.配置环境变量   
1）全局变量修改  
/etc/profile  
source /etc/profile  
2）用户变量修改  
~/.bashrc  
source ~/.bashrc  
3）参考  
http://www.mashangxue123.com/Linux/2613038403.html    
加载顺序  
/etc/profile  
/etc/paths  
~/.bash_profile , ~/.bash_login , ~/.profile 按照从前往后的顺序读取,只会读取一个  
~/.bashrc  
修改   
sudo vi ~/.bashrc  
export PATH=$PATH:/opt/local/bin:/opt/local/sbin  
source ~/.bash_profile // 生效  
echo $PATH // 查看是否生效 

# cmake
```c
./Demo
    |
    +--- main.cc
    |
    +--- math/
          |
          +--- MathFunctions.cc
          |
          +--- MathFunctions.h

# CMake 最低版本号要求
cmake_minimum_required (VERSION 2.8)
# 项目信息
project (Demo1)
# 添加 math 子目录
add_subdirectory(math)
# 查找当前目录下的所有源文件
# 并将名称保存到 DIR_LIB_SRCS 变量
aux_source_directory(. DIR_LIB_SRCS)
# 生成链接库
add_library (MathFunctions ${DIR_LIB_SRCS}) // 将保存在DIR_LIB_SRCS变量中的文件都生成链接库
# 生成叫Demo的文件
add_executable(Demo main.cc) 
# 添加链接库
target_link_libraries(Demo MathFunctions)
```


# docker
1.获取  
docker pull name  
2.运行  
docker run       
-v /data:/data 是挂载  
-p 端口映射  
3.查看状态  
docker ps      
4.本地镜像  
docker images    
5.运行\暂停\重启  
docker start\stop\restart    
6.进入内部  
docker exec -it name bash   
7.提交镜像  
docker push   
8.删除本机镜像  
docker rmi   
10.查看信息  
docker inspect name  
11.查看日志  
docker logs


# git  
https://github.com/521xueweihan/git-tips  
## 基础
工作区：实际修改的地方  
暂存区：add    
本地：commit
1.提交  
git push origin local_branch:master/other_branch  
2.删除远端  
git push origin --delete branch_name  
3.拉取  
git pull origin master:local  
4.拉取子仓  
1）更新主仓时同时拉取子仓  
git clone 主仓 --recursive  
2）异步拉取子仓  
git submodule init  
git submodule update 
5.重命名本地分支  
git branch -m <new-branch-name>  
6.暂存区和工作区的区别  
git diff --cached  
7.放弃工作区的修改  
git checkout <file name>
git checkout . // 所有  
  
  
## 组合
1.放弃本地所有修改，回到远程仓库状态  
git fetch --all && git reset --hard origin/master  




